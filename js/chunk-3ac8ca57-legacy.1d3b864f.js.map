{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/views/book/TheView.vue","webpack:///./src/views/book/TheView.vue?5bad","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./src/views/book/TheView.vue?01a4"],"names":["redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","class","id","$attrs","ref","handleScroll","book","text","editMode","annotation","value","progress","max","scrollByClick","editor-node","editorNode","saveEditor","activeImage","showSlide","src","apiUrl","components","EditorModal","props","data","genres","bookmark","progressLoad","windowScroll","timer","activeImageIndex","activeMedia","type","url","initialText","methods","loadBook","$route","params","$get","result","prepareUrlForMedia","document","title","scrollToBookmark","console","log","$nextTick","$refs","scrollTo","relocateToMedia","$emit","$router","push","e","w","getElementById","clientWidth","o","offsetX","x","y","windowHeights","target","$modal","show","innerHTML","$patch","$toast","success","editor","Math","round","scrollTop","scrollHeight","clientHeight","regexp","replace","moveMedia","toggleSide","media","querySelectorAll","elem","classList","add","listenClickByImg","images","getElementsByClassName","image","addEventListener","openImage","img","index","files","length","getSrcImgUrl","updateScrollProgress","formData","computed","watch","created","mounted","beforeUnmount","updated","render","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","enforceInternalState","enforce","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","constructor","indexOf","state","proxy","key","configurable","get","set","it","keys"],"mappings":"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","file":"js/chunk-3ac8ca57-legacy.1d3b864f.js","sourcesContent":["'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","<template>\r\n  <div class=\"book-container\" v-bind=\"$attrs\">\r\n    <div class=\"book\" ref=\"book\" @scroll.passive=\"handleScroll\" id=\"book\">\r\n      <div class=\"text\" ref=\"text\" v-html=\"book.text\" @mouseup.ctrl=\"editMode\"></div>\r\n    </div>\r\n  </div>\r\n  <footer class=\"footer\" v-if=\"book.annotation !== 'media'\">\r\n    <progress class=\"progress\" :value=\"progress\" max=\"100\" id=\"progressbar\" @click=\"scrollByClick\"/>\r\n    <div class=\"progress-value\">{{ progress }}</div>\r\n  </footer>\r\n  <modal ref=\"editor\">\r\n    <editor-modal :editor-node=\"editorNode\" @save-editor=\"saveEditor\"/>\r\n  </modal>\r\n  <div id=\"image-modal\" class=\"image-modal\" v-if=\"activeImage\">\r\n    <span class=\"close\" @click=\"activeImage = null\">&times;</span>\r\n    <aside class=\"picture-action-panel\">\r\n      <button class=\"picture-arrow-btn\" @click=\"showSlide('first')\">1</button>\r\n      <button class=\"picture-arrow-btn\" @click=\"showSlide('prev')\">Back</button>\r\n    </aside>\r\n    <img class=\"modal-content\" id=\"img01\" :src=\"activeImage\">\r\n    <aside class=\"picture-action-panel\">\r\n      <button class=\"picture-arrow-btn\" @click=\"showSlide('last')\">e</button>\r\n      <button class=\"picture-arrow-btn\" @click=\"showSlide('next')\">Forward</button>\r\n    </aside>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {defineAsyncComponent} from \"vue\";\r\nconst apiUrl = process.env.VUE_APP_API_URL\r\n\r\nexport default {\r\n  name: \"Book\",\r\n  components: {\r\n    EditorModal: defineAsyncComponent(() => import('@/components/EditorModal.vue')),\r\n  },\r\n  props: {},\r\n\r\n  data: () => ({\r\n    book: {annotation: null, text: null, genres: [], bookmark: null},\r\n    progress: 0,\r\n    progressLoad: 0,\r\n    windowScroll: 0,\r\n    timer: null,\r\n    activeImage: null,\r\n    activeImageIndex: 0,\r\n    activeMedia: {type: null, url: null},\r\n    editorNode: {},\r\n    initialText: ''\r\n  }),\r\n  methods: {\r\n    async loadBook() {\r\n      const url = `/book/view?id=${this.$route.params.id}`;\r\n      const result = await this.$get(url)\r\n      if (result) {\r\n        this.book = await this.prepareUrlForMedia(result)\r\n        document.title = `Book: ${result.name}`;\r\n\r\n        this.scrollToBookmark()\r\n      } else {\r\n        console.log({'result': result})\r\n      }\r\n     },\r\n    async scrollToBookmark() {\r\n      if (this.book.bookmark) {\r\n        await this.$nextTick()\r\n        this.$refs.book.scrollTo(0, this.book.bookmark)\r\n      }\r\n    },\r\n    async relocateToMedia(book) {\r\n      await this.$emit('loaded-book', book)\r\n      await this.$router.push({name: 'book-media', params: {id: book.id}})\r\n    },\r\n    scrollByClick(e) {\r\n      let w = document.getElementById(\"progressbar\").clientWidth;\r\n      let o = e.offsetX;\r\n      let x = (100 * o) / w;\r\n      document.getElementById(\"progressbar\").value = x;\r\n      let y = (this.windowHeights * x) / 100;\r\n      document.getElementById('book').scrollTo(0, y);\r\n\r\n    },\r\n    editMode(e) {\r\n      this.editorNode = e.target\r\n      this.$modal.show('editor', this)\r\n    },\r\n    async saveEditor() {\r\n      this.book.text = this.$refs.text.innerHTML\r\n      const url = `/book/update?id=${this.$route.params.id}`\r\n      const result = await this.$patch(url, {text: this.book.text})\r\n      if (result) {\r\n        this.$toast.success('Успешно сохранено')\r\n      } else {\r\n        console.log({editor: result})\r\n      }\r\n    },\r\n    handleScroll(e) {\r\n      this.progress = Math.round((e.target.scrollTop * 100) / (e.target.scrollHeight - e.target.clientHeight))\r\n      this.windowScroll = e.target.scrollTop\r\n\r\n    },\r\n    prepareUrlForMedia(book) {\r\n      if(book.text) {\r\n        const regexp = new RegExp(\"APIURL\", \"g\");\r\n        book.text = book.text.replace(regexp, process.env.VUE_APP_API_URL)\r\n        return book\r\n      }\r\n      return book\r\n\r\n    },\r\n    moveMedia() {\r\n      let toggleSide = true\r\n      let media = document.querySelectorAll('.media')\r\n\r\n      for (const elem of media) {\r\n        elem.classList.add(toggleSide ? 'media--right' : 'media--left')\r\n        toggleSide = !toggleSide\r\n      }\r\n    },\r\n    listenClickByImg() {\r\n      let images = document.getElementsByClassName('picture')\r\n      for (let image of images) {\r\n        image.addEventListener(\"click\", this.openImage);\r\n      }\r\n    },\r\n    openImage(img) {\r\n      this.activeImage = img.target.src\r\n    },\r\n    showSlide(type) {\r\n      let index = 0\r\n      if (type === 'prev') {\r\n        index = this.activeImageIndex > 1 ? this.activeImageIndex - 1 : this.book.files.length - 1\r\n      } else if (type === 'next') {\r\n        index = this.activeImageIndex < this.book.files.length - 1 ? this.activeImageIndex + 1 : 0\r\n      } else if (type === 'last') {\r\n        index = this.book.files.length - 1\r\n      } else if (type === 'first') {\r\n        index = 0\r\n      }\r\n      this.activeImageIndex = index\r\n      this.activeImage = this.getSrcImgUrl(this.book.files[index])\r\n    },\r\n    getSrcImgUrl(e) {\r\n      return e.url ? `${apiUrl}/${e.url}` : ''\r\n    },\r\n    async updateScrollProgress() {\r\n      const url = `/book/update-book?id=${this.book.id}`;\r\n      const formData = {bookmark: this.windowScroll}\r\n      const result = await this.$patch(url, formData)\r\n      if (result) {\r\n        console.log({'result': result})\r\n      } else {\r\n        console.log({'result': result})\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    windowHeights() {\r\n      return document.getElementById('book').scrollHeight - document.getElementById('book').clientHeight\r\n    },\r\n  },\r\n  watch: {},\r\n  created() {\r\n    this.loadBook()\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  beforeUnmount() {\r\n    this.updateScrollProgress()\r\n  },\r\n  updated() {\r\n    this.moveMedia()\r\n    this.listenClickByImg()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.book-container {\r\n  height: calc(100vh - 6rem);\r\n  background-color: var(--surface1);\r\n}\r\n\r\n.book {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  width: 100%;\r\n  overflow-y: auto;\r\n  height: 100%;\r\n  padding: 1rem;\r\n  justify-content: center;\r\n\r\n  p {\r\n    word-break: break-word;\r\n    padding: initial;\r\n    text-indent: 1rem;\r\n    margin: 0 0 0.3rem;\r\n    position: relative;\r\n    span[data-tooltip]:hover {\r\n      color: crimson;\r\n    }\r\n  }\r\n\r\n  .text {\r\n    max-width: 700px;\r\n    position: relative;\r\n\r\n    .media {\r\n      border: none;\r\n      //display: none;\r\n      cursor: pointer;\r\n      width: 480px;\r\n      height: 320px;\r\n    }\r\n\r\n    .media--right {\r\n      position: absolute;\r\n      right: -500px;\r\n    }\r\n\r\n    .media--left {\r\n      position: absolute;\r\n      left: -500px;\r\n    }\r\n\r\n    h1, h2, h3 {\r\n      text-align: center;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n  }\r\n\r\n  .picture {\r\n    width: inherit;\r\n    height: inherit;\r\n    object-fit: cover;\r\n  }\r\n\r\n  .illustrations {\r\n    display: flex;\r\n    flex: 1;\r\n\r\n  }\r\n\r\n}\r\n\r\n.footer {\r\n  width: 100%;\r\n  height: 2rem;\r\n  display: flex;\r\n  padding: 0.2rem 0.5rem;\r\n  position: relative;\r\n\r\n  .progress {\r\n    width: 100%;\r\n    height: calc(100% - 5px);\r\n    background: var(--bg-secondary);\r\n    position: absolute;\r\n    left: 0;\r\n  }\r\n\r\n  .progress-value {\r\n    position: absolute;\r\n    left: 50%;\r\n    bottom: 5px;\r\n    color: var(--color);\r\n  }\r\n\r\n  .progress::-webkit-progress-value {\r\n  }\r\n}\r\n.image-modal {\r\n  //display: none; /* Hidden by default */\r\n  position: fixed; /* Stay in place */\r\n  z-index: 1; /* Sit on top */\r\n  padding-top: 100px; /* Location of the box */\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%; /* Full width */\r\n  height: 100%; /* Full height */\r\n  overflow: auto; /* Enable scroll if needed */\r\n  background-color: rgb(0, 0, 0); /* Fallback color */\r\n  background-color: rgba(0, 0, 0, 0.9); /* Black w/ opacity */\r\n  .modal-content {\r\n    margin: auto;\r\n    display: block;\r\n    width: 80%;\r\n    max-width: 700px;\r\n  }\r\n\r\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\r\n  #caption {\r\n    margin: auto;\r\n    display: block;\r\n    width: 80%;\r\n    max-width: 700px;\r\n    text-align: center;\r\n    color: #ccc;\r\n    padding: 10px 0;\r\n    height: 150px;\r\n  }\r\n\r\n  /* Add Animation - Zoom in the Modal */\r\n  .modal-content, #caption {\r\n    animation-name: zoom;\r\n    animation-duration: 0.6s;\r\n  }\r\n}\r\n@keyframes zoom {\r\n  from {\r\n    transform: scale(0)\r\n  }\r\n  to {\r\n    transform: scale(1)\r\n  }\r\n}\r\n\r\n/* The Close Button */\r\n.close {\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 35px;\r\n  color: #f1f1f1;\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  transition: 0.3s;\r\n}\r\n\r\n.close:hover,\r\n.close:focus {\r\n  color: #bbb;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n}\r\n\r\n@media only screen and (max-width: 892px) {\r\n  .book-container {\r\n    .book {\r\n      .text {\r\n        max-width: initial;\r\n        width: 100%;\r\n\r\n        .media {\r\n          position: static;\r\n          width: 100%;\r\n          max-height: calc(var(--media-width) / 1.5);\r\n        }\r\n      }\r\n    }\r\n\r\n    .image-modal {\r\n      padding: 0.3rem;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .close {\r\n        top: 0;\r\n      }\r\n\r\n      .picture-action-panel {\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-around;\r\n      }\r\n\r\n      .picture-arrow-btn {\r\n        height: 5rem;\r\n        width: 5rem;\r\n        color: var(--color-2);\r\n        background-color: var(--background-3);\r\n      }\r\n\r\n      .modal-content {\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@media only screen and (min-width: 360px) and (max-width: 892px) and (orientation: landscape) {\r\n\r\n}\r\n\r\n@media only screen and (min-width: 360px) and (max-width: 892px) and (orientation: portrait) {\r\n\r\n}\r\n</style>","import { render } from \"./TheView.vue?vue&type=template&id=41461e94\"\nimport script from \"./TheView.vue?vue&type=script&lang=js\"\nexport * from \"./TheView.vue?vue&type=script&lang=js\"\n\nimport \"./TheView.vue?vue&type=style&index=0&id=41461e94&lang=scss\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) {\n      var state = enforceInternalState(result);\n      state.sticky = true;\n    }\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TheView.vue?vue&type=style&index=0&id=41461e94&lang=scss\""],"sourceRoot":""}