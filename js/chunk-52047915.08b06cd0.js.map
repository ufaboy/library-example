{"version":3,"sources":["webpack:///./src/views/ListGenre.vue?c333","webpack:///./src/views/ListGenre.vue","webpack:///./src/views/ListGenre.vue?0e6c"],"names":["class","$store","state","main","isMobile","activeParent","loadGenre","genresParent","genre","value","key","id","name","genres","openGenre","components","props","data","childes","computed","this","$route","params","items","watch","document","title","parent","find","item","methods","$router","push","$loader","show","result","$get","parentId","hide","render","__scopeId"],"mappings":"kHAAA,W,2LCCOA,MAAM,c,SACDA,MAAM,U,6EADhB,yBAeM,MAfN,EAeM,CAdyB,EAAAC,OAAOC,MAAMC,KAAKC,U,yBAA/C,yBAMS,SANT,EAMS,C,4BALP,yBAIS,UAJDJ,MAAM,S,qCAAkB,EAAAK,aAAY,GAAG,SAAM,oBAAE,EAAAC,WAAA,EAAAA,aAAA,K,6BACrD,yBAES,2CAF6C,EAAAC,aAATC,I,yBAA7C,yBAES,UAFDR,MAAM,SAAUS,MAAOD,EAAsCE,IAAKF,EAAMG,I,6BAC3EH,EAAMI,MAAI,e,gCAFe,EAAAP,mB,mEAMlC,yBAIU,2CAHe,EAAAQ,OAATL,I,yBADhB,yBAIU,WAJDR,MAAM,QAELU,IAAG,QAAUF,EAAMG,GACnB,QAAK,GAAE,EAAAG,UAAUN,I,6BAAWA,EAAMI,MAAI,iB,UASrC,OACbA,KAAM,YACNG,WAAY,GACZC,MAAO,GACPC,KAAM,KAAM,CACVZ,aAAc,CACZa,QAAS,IAEXL,OAAQ,KAEVM,SAAU,CACR,WACE,OAAOC,KAAKf,aAAaM,GAAKS,KAAKf,aAAaM,GAAKS,KAAKC,OAAOC,OAAOX,GAAKS,KAAKC,OAAOC,OAAOX,GAAK,MAEvG,eACE,OAAOS,KAAKnB,OAAOC,MAAMM,MAAMe,QAGnCC,MAAO,GACP,UAEE,GADAC,SAASC,MAAQ,SACbN,KAAKC,OAAOC,OAAOX,GAAI,CACvB,MAAMgB,EAASP,KAAKb,aAAaqB,KAAKC,GAAMA,EAAKlB,MAAQS,KAAKC,OAAOC,OAAOX,IAC1EgB,IACFP,KAAKf,aAAesB,GAExBP,KAAKd,cAGP,YAGAwB,QAAS,CACP,UAAUtB,GACRY,KAAKW,QAAQC,KAAK,CAACpB,KAAM,YAAaU,OAAQ,CAAC,GAAMd,EAAMG,GAAIC,KAAMJ,EAAMI,KAAMe,OAAQP,KAAKb,aAAaqB,KAAKC,GAAMA,EAAKlB,MAAQS,KAAKC,OAAOC,OAAOX,IAAIC,SAE5J,kBACEQ,KAAKa,QAAQC,OACb,MAAMC,QAAef,KAAKgB,KAAM,oBAAmBhB,KAAKiB,UACxDjB,KAAKa,QAAQK,OACTH,IACFf,KAAKP,OAASsB,M,UCzDtB,EAAOI,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-52047915.08b06cd0.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ListGenre.vue?vue&type=style&index=0&id=633f7fdc&scoped=true&lang=scss\"","<template>\r\n  <div class=\"list-genre\">\r\n    <header class=\"header\" v-if=\"$store.state.main.isMobile\">\r\n      <select class=\"select\" v-model=\"activeParent\" @change=\"loadGenre\">\r\n        <option class=\"option\" :value=\"genre\" v-for=\"genre of genresParent\" :key=\"genre.id\">\r\n          {{ genre.name }}\r\n        </option>\r\n      </select>\r\n    </header>\r\n    <section class=\"genre\"\r\n             v-for=\"genre of genres\"\r\n             :key=\"'genre'+genre.id\"\r\n             @click=\"openGenre(genre)\">{{ genre.name }}\r\n    </section>\r\n    <!--    <observer @intersect=\"loadGenres('push')\"/>-->\r\n    <!--    <div class=\"loader\" v-if=\"infinityLoading\"></div>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"ListGenre\",\r\n  components: {},\r\n  props: {},\r\n  data: () => ({\r\n    activeParent: {\r\n      childes: []\r\n    },\r\n    genres: []\r\n  }),\r\n  computed: {\r\n    parentId() {\r\n      return this.activeParent.id ? this.activeParent.id : this.$route.params.id ? this.$route.params.id : null\r\n    },\r\n    genresParent() {\r\n      return this.$store.state.genre.items\r\n    }\r\n  },\r\n  watch: {},\r\n  created() {\r\n    document.title = 'Genres';\r\n    if (this.$route.params.id) {\r\n        const parent = this.genresParent.find(item=>item.id === +this.$route.params.id)\r\n      if (parent) {\r\n        this.activeParent = parent\r\n      }\r\n    this.loadGenre()\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n    openGenre(genre) {\r\n      this.$router.push({name: 'list-book', params: {'id': genre.id, name: genre.name, parent: this.genresParent.find(item=>item.id === +this.$route.params.id).name}})\r\n    },\r\n    async loadGenre() {\r\n      this.$loader.show()\r\n      const result = await this.$get(`/genre?parent_id=${this.parentId}`)\r\n      this.$loader.hide()\r\n      if (result) {\r\n        this.genres = result\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.list-genre {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  padding: 0 1rem;\r\n\r\n  .genre {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: space-around;\r\n    text-transform: capitalize;\r\n    cursor: pointer;\r\n    width: 300px;\r\n    overflow: hidden;\r\n    margin-bottom: 1rem;\r\n    margin-right: 1rem;\r\n    padding: 1rem;\r\n    color: var(--text1);\r\n    background: var(--surface2);\r\n    border-radius: 5px;\r\n\r\n    .title {\r\n      margin-right: 0.5rem;\r\n    }\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 892px) {\r\n  .list-genre {\r\n    padding: 0.5rem;\r\n    columns: 400px;\r\n\r\n    .header {\r\n      width: 100%;\r\n      max-width: 100%;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-bottom: 0.5rem;\r\n      max-height: 42px;\r\n\r\n      .search-input {\r\n        flex: 1;\r\n        margin-right: 0.5rem;\r\n        color: (var(--color));\r\n        background-color: var(--background-2);\r\n      }\r\n\r\n      .select {\r\n        flex: 1;\r\n        padding: 0.5rem;\r\n        .option {\r\n          padding: 0.5rem;\r\n        }\r\n      }\r\n    }\r\n\r\n    .genre {\r\n      margin-bottom: 0.5rem;\r\n      margin-right: 0;\r\n      padding: 0.5rem;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 892px) and (orientation: landscape) {\r\n  .list-genre {\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 892px) and (orientation: portrait) {\r\n  .list-genre {\r\n    .header {\r\n      .search-input {\r\n        max-width: 220px;\r\n      }\r\n\r\n      .select {\r\n        //max-width: 165px;\r\n      }\r\n    }\r\n\r\n    .genre {\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ListGenre.vue?vue&type=template&id=633f7fdc&scoped=true\"\nimport script from \"./ListGenre.vue?vue&type=script&lang=js\"\nexport * from \"./ListGenre.vue?vue&type=script&lang=js\"\n\nimport \"./ListGenre.vue?vue&type=style&index=0&id=633f7fdc&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-633f7fdc\"\n\nexport default script"],"sourceRoot":""}