(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6483d34"],{"30b9":function(e,t,c){"use strict";c.r(t);var o=c("7a23"),n=Object(o["withScopeId"])("data-v-0b73e52a");Object(o["pushScopeId"])("data-v-0b73e52a");var i={class:"book-container"},a={key:0,class:"book-video"},r={key:0,class:"media-list"},l={class:"media-name"},s={class:"media-video"},u={key:1,class:"book-picture"};Object(o["popScopeId"])();var d=n((function(e,t,c,n,d,b){return Object(o["openBlock"])(),Object(o["createBlock"])("div",i,["video"===b.getTypeBook||"audio"===b.getTypeBook?(Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[e.main.isDesktop?(Object(o["openBlock"])(),Object(o["createBlock"])("ol",r,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.book.files,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{class:{active:t.id===e.activeMedia.id},key:t.id,onClick:function(c){return e.activeMedia=t}},[Object(o["createVNode"])("span",l,Object(o["toDisplayString"])(t.file_name),1)],10,["onClick"])})),128))])):e.main.isMobile?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("select",{key:1,class:"select","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.activeMedia=t})},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.book.files,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("option",{value:e,key:e.id},Object(o["toDisplayString"])(e.file_name),9,["value"])})),128))],512)),[[o["vModelSelect"],e.activeMedia]]):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("figure",s,["video/webm"===e.activeMedia.type?(Object(o["openBlock"])(),Object(o["createBlock"])("video",{key:0,src:b.getSrcUrl,controls:""},null,8,["src"])):"audio/mpeg"===e.activeMedia.type?(Object(o["openBlock"])(),Object(o["createBlock"])("audio",{key:1,src:b.getSrcUrl,controls:""},null,8,["src"])):Object(o["createCommentVNode"])("",!0)])])):"picture"===b.getTypeBook?(Object(o["openBlock"])(),Object(o["createBlock"])("div",u,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.book.files,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("img",{class:"book-picture_img",src:b.getSrcImgUrl(t),alt:"",key:t.id,onClick:function(c){return e.activeImage=b.getSrcImgUrl(t)}},null,8,["src","onClick"])})),128))])):Object(o["createCommentVNode"])("",!0)])})),b=c("1da1"),k=c("5530"),p=(c("96cf"),c("c740"),c("b0c0"),c("99af"),c("5502")),j="https://api.librarydev.xyz",O={name:"TheMedia",components:{},props:{bookProps:Object},data:function(){return{book:{annotation:null,text:null,genres:[]},activeImage:null,activeImageIndex:0,activeMedia:{type:null,url:null}}},computed:Object(k["a"])(Object(k["a"])({},Object(p["b"])({main:function(e){return e.main}})),{},{getTypeBook:function(){return-1!==this.book.genres.findIndex((function(e){return"picture"===e.name}))?"picture":-1!==this.book.genres.findIndex((function(e){return"audio"===e.name}))?"audio":-1!==this.book.genres.findIndex((function(e){return"video"===e.name}))?"video":""},getSrcUrl:function(){return this.activeMedia.url?"".concat(j,"/").concat(this.activeMedia.url):""}}),watch:{},created:function(){this.checkBook()},mounted:function(){},methods:{checkBook:function(){this.bookProps.id&&this.bookProps.id===+this.$route.params.id?this.book=Object.assign({},this.bookProps):this.loadBook()},loadBook:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c="/book/view?id=".concat(e.$route.params.id),t.prev=1,t.next=4,e.$get(c);case 4:e.book=t.sent,document.title="Book: ".concat(e.book.name),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log({loadBook:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getSrcImgUrl:function(e){return e.url?"".concat(j,"/").concat(e.url):""}}};c("5e02");O.render=d,O.__scopeId="data-v-0b73e52a";t["default"]=O},"5e02":function(e,t,c){"use strict";c("af66")},af66:function(e,t,c){}}]);
//# sourceMappingURL=chunk-d6483d34-legacy.77dbdbdb.js.map